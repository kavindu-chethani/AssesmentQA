"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lowerCaseHeaderNames = exports.convertToOutgoingHttpHeaders = exports.convertToHeaderEntries = void 0;
function convertToHeaderEntries(headers) {
    return Object.entries(headers).map(([name, value]) => {
        let resultValue = '';
        if (value)
            resultValue = Array.isArray(value) ? value.toString() : value;
        return { name, value: resultValue };
    });
}
exports.convertToHeaderEntries = convertToHeaderEntries;
function convertToOutgoingHttpHeaders(headers) {
    if (!headers)
        return {};
    return headers.reduce((result, header) => {
        result[header.name.toLowerCase()] = header.value;
        return result;
    }, {});
}
exports.convertToOutgoingHttpHeaders = convertToOutgoingHttpHeaders;
function lowerCaseHeaderNames(headers) {
    const result = {};
    Object.keys(headers).forEach(name => {
        result[name.toLowerCase()] = headers[name];
    });
    return result;
}
exports.lowerCaseHeaderNames = lowerCaseHeaderNames;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wcm94eWxlc3MvdXRpbHMvaGVhZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFNQSxTQUFnQixzQkFBc0IsQ0FBRSxPQUE0QjtJQUNoRSxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTtRQUNqRCxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFFckIsSUFBSSxLQUFLO1lBQ0wsV0FBVyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBRWxFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDO0lBQ3hDLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQVRELHdEQVNDO0FBRUQsU0FBZ0IsNEJBQTRCLENBQUUsT0FBa0M7SUFDNUUsSUFBSSxDQUFDLE9BQU87UUFDUixPQUFPLEVBQUUsQ0FBQztJQUVkLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQVcsRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFFakQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQVRELG9FQVNDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUUsT0FBZ0I7SUFDbEQsTUFBTSxNQUFNLEdBQVksRUFBRSxDQUFDO0lBRTNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBUkQsb0RBUUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvdG9jb2wgZnJvbSAnZGV2dG9vbHMtcHJvdG9jb2wnO1xuaW1wb3J0IEhlYWRlckVudHJ5ID0gUHJvdG9jb2wuRmV0Y2guSGVhZGVyRW50cnk7XG5pbXBvcnQgSGVhZGVycyA9IFByb3RvY29sLk5ldHdvcmsuSGVhZGVycztcbmltcG9ydCB7IEluY29taW5nSHR0cEhlYWRlcnMsIE91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tICdodHRwJztcblxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvSGVhZGVyRW50cmllcyAoaGVhZGVyczogSW5jb21pbmdIdHRwSGVhZGVycyk6IEhlYWRlckVudHJ5W10ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdFZhbHVlID0gJyc7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmVzdWx0VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLnRvU3RyaW5nKCkgOiB2YWx1ZTtcblxuICAgICAgICByZXR1cm4geyBuYW1lLCB2YWx1ZTogcmVzdWx0VmFsdWUgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb091dGdvaW5nSHR0cEhlYWRlcnMgKGhlYWRlcnM6IEhlYWRlckVudHJ5W10gfCB1bmRlZmluZWQpOiBPdXRnb2luZ0h0dHBIZWFkZXJzIHtcbiAgICBpZiAoIWhlYWRlcnMpXG4gICAgICAgIHJldHVybiB7fTtcblxuICAgIHJldHVybiBoZWFkZXJzLnJlZHVjZSgocmVzdWx0OiBhbnksIGhlYWRlcikgPT4ge1xuICAgICAgICByZXN1bHRbaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKV0gPSBoZWFkZXIudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb3dlckNhc2VIZWFkZXJOYW1lcyAoaGVhZGVyczogSGVhZGVycyk6IEhlYWRlcnMge1xuICAgIGNvbnN0IHJlc3VsdDogSGVhZGVycyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgcmVzdWx0W25hbWUudG9Mb3dlckNhc2UoKV0gPSBoZWFkZXJzW25hbWVdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuIl19